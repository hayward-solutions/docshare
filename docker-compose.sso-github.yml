# DocShare with GitHub OAuth2
#
# Usage:
#   docker-compose -f docker-compose.yml -f docker-compose.sso-github.yml up -d
#
# Setup:
# 1. Go to GitHub Developer Settings https://github.com/settings/developers
# 2. Create a new OAuth App
# 3. Homepage URL: http://localhost:3001
# 4. Authorization callback URL: http://localhost:8080/api/auth/sso/oauth/github/callback

services:
  backend:
    environment:
      OAUTH_GITHUB_ENABLED: "true"
      OAUTH_GITHUB_CLIENT_ID: "${GITHUB_CLIENT_ID}"
      OAUTH_GITHUB_CLIENT_SECRET: "${GITHUB_CLIENT_SECRET}"
      OAUTH_GITHUB_REDIRECT_URL: "http://localhost:8080/api/auth/sso/oauth/github/callback"
      OAUTH_GITHUB_SCOPES: "read:user,user:email"
      SSO_AUTO_REGISTER: "true"
